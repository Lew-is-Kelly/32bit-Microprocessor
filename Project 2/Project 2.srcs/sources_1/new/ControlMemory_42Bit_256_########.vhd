library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.STD_LOGIC_UNSIGNED.ALL;
use IEEE.NUMERIC_STD.ALL;

entity ControlMemory_42Bit_256_20335015 is
    Port ( CAR_In: in std_logic_vector (16 downto 0);
         NA : out std_logic_vector (16 downto 0);
         MS : out std_logic_vector (2 downto 0);
         FS : out std_logic_vector (4 downto 0);
         MC, IL, PI, PL, TD, TA, TB, MB, MD, RW, MM, MW, RV, RC, RN, RZ, FL : out std_logic
        );
end ControlMemory_42Bit_256_20335015;

architecture Behavioral of ControlMemory_42Bit_256_20335015 is

    --CW    0000000000000000 000 0 0 0 0 0 0 0 0 00000 0 0 0 0 0 0 0 0 0    (41 downto 0)
    --NA    0000000000000000                                                (41 downto 25)
    --MS                     000                                            (24 downto 22)
    --MC                         0                                          (21)
    --IL                           0                                        (20)
    --PI                             0                                      (19)
    --PL                               0                                    (18)
    --TD                                 0                                  (17)
    --TA                                   0                                (16)
    --TB                                     0                              (15)
    --MB                                       0                            (14)
    --FS                                         00000                      (13 downto 9)
    --MD                                               0                    (8)
    --RW                                                 0                  (7)
    --MM                                                   0                (6)
    --MW                                                     0              (5)
    --RV                                                       0            (4)
    --RC                                                         0          (3)
    --RN                                                           0        (2)
    --RZ                                                             0      (1)
    --FL                                                               0    (0)

    constant gate_delay : time := 2ns;

    type Memory_Array is array(0 to 255) of std_logic_vector (41 downto 0);

    signal Control_Memory : Memory_Array := (
        "000000000000011110000000000000000000000000",
        "000000000000100000000000000000000000000000",
        "000000000000100010000000000000000000000000",
        "000000000000100100000000000000000000000000",
        "000000000000100111111110000001100011011110",       --AxorB
        "000000000000101000000000000011000000000000",       --slB
        "000000000000101010000000000010100000000000",       --srB
        "000000000000101100000000000000000000000000",       --A
        "000000000000101110000000000000001000000000",       --A+1
        "000000000000110000000000000010000000000000",       --B
        "000000000000110010000000000000000000000000",
        "000000000000110100000000000000000000000000",
        "000000000000110110000000000000000000000000",
        "000000000000111000000000000000000000000000",
        
        "000000000000111010000000000000000000000000",
        "000000000000111100000000000000000000000000",
        "000000000000111110000000000000000000000000",

        "000000000001000000000000000000000000000000",
        "000000000001000010000000000000000000000000",
        "000000000001000100000000000000000000000000",
        "000000000001000110000000000000000000000000",
        "000000000001001000000000000000000000000000",
        "000000000001001010000000000000000000000000",
        "000000000001001100000000000000000000000000",
        "000000000001001110000000000000000000000000",

        "000000000001010000000000000000000000000000",-- 28
        "000000000001010010000000000000000000000000",-- 29
        "000000000001010100000000000000000000000000",-- 2A
        "000000000001010110000000000000000000000000",-- 2B
        "000000000001011000000000000000000000000000",-- 2C
        "000000000001011010000000000000000000000000",-- 2D
        "000000000001011100000000000000000000000000",-- 2E
        "000000000001011110000000000000000000000000",-- 2F

        "000000000001100000000000000000000000000000",-- 30
        "000000000001100010000000000000000000000000",-- 31
        "000000000001100100000000000000000000000000",-- 32
        "000000000001100110000000000000000000000000",-- 33
        "000000000001101000000000000000000000000000",-- 34
        "000000000001101010000000000000000000000000",-- 35
        "000000000001101100000000000000000000000000",-- 36
        "000000000001101110000000000000000000000000",-- 37

        "000000000001110000000000000000000000000000",-- 38
        "000000000001110010000000000000000000000000",-- 39
        "000000000001110100000000000000000000000000",-- 3A
        "000000000001110110000000000000000000000000",-- 3B
        "000000000001111000000000000000000000000000",-- 3C
        "000000000001111010000000000000000000000000",-- 3D
        "000000000001111100000000000000000000000000",-- 3E
        "000000000001111110000000000000000000000000",-- 3F

        "000000000010000000000000000000000000000000",-- 40
        "000000000010000010000000000000000000000000",-- 41
        "000000000010000100000000000000000000000000",-- 42
        "000000000010000110000000000000000000000000",-- 43
        "000000000010001000000000000000000000000000",-- 44
        "000000000010001010000000000000000000000000",-- 45
        "000000000010001100000000000000000000000000",-- 46
        "000000000010001110000000000000000000000000",-- 47

        "000000000010010000000000000000000000000000",-- 48
        "000000000010010010000000000000000000000000",-- 49
        "000000000010010100000000000000000000000000",-- 4A
        "000000000010010110000000000000000000000000",-- 4B
        "000000000010011000000000000000000000000000",-- 4C
        "000000000010011010000000000000000000000000",-- 4D
        "000000000010011100000000000000000000000000",-- 4E
        "000000000010011110000000000000000000000000",-- 4F

        "000000000010100000000000000000000000000000",-- 50
        "000000000010100010000000000000000000000000",-- 51
        "000000000010100100000000000000000000000000",-- 52
        "000000000010100110000000000000000000000000",-- 53
        "000000000010101000000000000000000000000000",-- 54
        "000000000010101010000000000000000000000000",-- 55
        "000000000010101100000000000000000000000000",-- 56
        "000000000010101110000000000000000000000000",-- 57

        "000000000010110000000000000000000000000000",-- 58
        "000000000010110010000000000000000000000000",-- 59
        "000000000010110100000000000000000000000000",-- 5A
        "000000000010110110000000000000000000000000",-- 5B
        "000000000010111000000000000000000000000000",-- 5C
        "000000000010111010000000000000000000000000",-- 5D
        "000000000010111100000000000000000000000000",-- 5E
        "000000000010111110000000000000000000000000",-- 5F

        "000000000011000000000000000000000000000000",-- 60
        "000000000011000010000000000000000000000000",-- 61
        "000000000011000100000000000000000000000000",-- 62
        "000000000011000110000000000000000000000000",-- 63
        "000000000011001000000000000000000000000000",-- 64
        "000000000011001010000000000000000000000000",-- 65
        "000000000011001100000000000000000000000000",-- 66
        "000000000011001110000000000000000000000000",-- 67

        "000000000011010000000000000000000000000000",-- 68
        "000000000011010010000000000000000000000000",-- 69
        "000000000011010100000000000000000000000000",-- 6A
        "000000000011010110000000000000000000000000",-- 6B
        "000000000011011000000000000000000000000000",-- 6C
        "000000000011011010000000000000000000000000",-- 6D
        "000000000011011100000000000000000000000000",-- 6E
        "000000000011011110000000000000000000000000",-- 6F

        "000000000011100000000000000000000000000000",-- 70
        "000000000011100010000000000000000000000000",-- 71
        "000000000011100100000000000000000000000000",-- 72
        "000000000011100110000000000000000000000000",-- 73
        "000000000011101000000000000000000000000000",-- 74
        "000000000011101010000000000000000000000000",-- 75
        "000000000011101100000000000000000000000000",-- 76
        "000000000011101110000000000000000000000000",-- 77

        "000000000011110000000000000000000000000000",-- 78
        "000000000011110010000000000000000000000000",-- 79
        "000000000011110100000000000000000000000000",-- 7A
        "000000000011110110000000000000000000000000",-- 7B
        "000000000011111000000000000000000000000000",-- 7C
        "000000000011111010000000000000000000000000",-- 7D
        "000000000011111100000000000000000000000000",-- 7E
        "000000000011111110000000000000000000000000",-- 7F

        "000000000100000000000000000000000000000000",-- 80
        "000000000100000010000000000000000000000000",-- 81
        "000000000100000100000000000000000000000000",-- 82
        "000000000100000110000000000000000000000000",-- 83
        "000000000100001000000000000000000000000000",-- 84
        "000000000100001010000000000000000000000000",-- 85
        "000000000100001100000000000000000000000000",-- 86
        "000000000100001110000000000000000000000000",-- 87

        "000000000100010000000000000000000000000000",-- 88
        "000000000100010010000000000000000000000000",-- 89
        "000000000100010100000000000000000000000000",-- 8A
        "000000000100010110000000000000000000000000",-- 8B
        "000000000100011000000000000000000000000000",-- 8C
        "000000000100011010000000000000000000000000",-- 8D
        "000000000100011100000000000000000000000000",-- 8E
        "000000000100011110000000000000000000000000",-- 8F

        "000000000100100000000000000000000000000000",-- 90
        "000000000100100010000000000000000000000000",-- 91
        "000000000100100100000000000000000000000000",-- 92
        "000000000100100110000000000000000000000000",-- 93
        "000000000100101000000000000000000000000000",-- 94
        "000000000100101010000000000000000000000000",-- 95
        "000000000100101100000000000000000000000000",-- 96
        "000000000100101110000000000000000000000000",-- 97

        "000000000100110000000000000000000000000000",-- 98
        "000000000100110010000000000000000000000000",-- 99
        "000000000100110100000000000000000000000000",-- 9A
        "000000000100110110000000000000000000000000",-- 9B
        "000000000100111000000000000000000000000000",-- 9C
        "000000000100111010000000000000000000000000",-- 9D
        "000000000100111100000000000000000000000000",-- 9E
        "000000000100111110000000000000000000000000",-- 9F

        "000000000101000000000000000000000000000000",-- A0
        "000000000101000010000000000000000000000000",-- A1
        "000000000101000100000000000000000000000000",-- A2
        "000000000101000110000000000000000000000000",-- A3
        "000000000101001000000000000000000000000000",-- A4
        "000000000101001010000000000000000000000000",-- A5
        "000000000101001100000000000000000000000000",-- A6
        "000000000101001110000000000000000000000000",-- A7

        "000000000101010000000000000000000000000000",-- A8
        "000000000101010010000000000000000000000000",-- A9
        "000000000101010100000000000000000000000000",-- AA
        "000000000101010110000000000000000000000000",-- AB
        "000000000101011000000000000000000000000000",-- AC
        "000000000101011010000000000000000000000000",-- AD
        "000000000101011100000000000000000000000000",-- AE
        "000000000101011110000000000000000000000000",-- AF

        "000000000101100000000000000000000000000000",-- B0
        "000000000101100010000000000000000000000000",-- B1
        "000000000101100100000000000000000000000000",-- B2
        "000000000101100110000000000000000000000000",-- B3
        "000000000101101000000000000000000000000000",-- B4
        "000000000101101010000000000000000000000000",-- B5
        "000000000101101100000000000000000000000000",-- B6
        "000000000101101110000000000000000000000000",-- B7

        "000000000101110000000000000000000000000000",-- B8
        "000000000101110010000000000000000000000000",-- B9
        "000000000101110100000000000000000000000000",-- BA
        "000000000101110110000000000000000000000000",-- BB
        "000000000101111000000000000000000000000000",-- BC
        "000000000101111010000000000000000000000000",-- BD
        "000000000101111100000000000000000000000000",-- BE
        "000000000101111110000000000000000000000000",-- BF

        "000000000110000000000000000000000000000000",
        "000000000110000010000000000000000000000000",
        "000000000110000100000000000000000000000000",
        "000000000110000110000000000000000000000000",
        "000000000110001000000000000000000000000000",
        "000000000110001010000000000000000000000000",
        "000000000110001100000000000000000000000000",
        "000000000110001110000000000000000000000000",

        "000000000110010000000000000000000000000000",
        "000000000110010010000000000000000000000000",
        "000000000110010100000000000000000000000000",
        "000000000110010110000000000000000000000000",
        "000000000110011000000000000000000000000000",
        "000000000110011010000000000000000000000000",
        "000000000110011100000000000000000000000000",
        "000000000110011110000000000000000000000000",

        "000000000110100000000000000000000000000000",
        "000000000110100010000000000000000000000000",
        "000000000110100100000000000000000000000000",
        "000000000110100110000000000000000000000000",
        "000000000110101000000000000000000000000000",
        "000000000110101010000000000000000000000000",
        "000000000110101100000000000000000000000000",
        "000000000110101110000000000000000000000000",

        "000000000110110000000000000000000000000000",
        "000000000110110010000000000000000000000000",
        "000000000110110100000000000000000000000000",
        "000000000110110110000000000000000000000000",
        "000000000110111000000000000000000000000000",
        "000000000110111010000000000000000000000000",
        "000000000110111100000000000000000000000000",
        "000000000110111110000000000000000000000000",

        "000000000111000000000000000000000000000000",
        "000000000111000010000000000000000000000000",
        "000000000111000100000000000000000000000000",
        "000000000111000110000000000000000000000000",
        "000000000111001000000000000000000000000000",
        "000000000111001010000000000000000000000000",
        "000000000111001100000000000000000000000000",
        "000000000111001110000000000000000000000000",

        "000000000111010000000000000000000000000000",
        "000000000111010010000000000000000000000000",
        "000000000111010100000000000000000000000000",
        "000000000111010110000000000000000000000000",
        "000000000111011000000000000000000000000000",
        "000000000111011010000000000000000000000000",
        "000000000111011100000000000000000000000000",
        "000000000111011110000000000000000000000000",

        "000000000111100000000000000000000000000000",
        "000000000111100010000000000000000000000000",
        "000000000111100100000000000000000000000000",
        "000000000111100110000000000000000000000000",
        "000000000111101000000000000000000000000000",
        "000000000111101010000000000000000000000000",
        "000000000111101100000000000000000000000000",
        "000000000111101110000000000000000000000000",

        "000000000111110000000000000000000000000000",
        "000000000111110010000000000000000000000000",
        "000000000111110100000000000000000000000000",
        "000000000111110110000000000000000000000000",
        "000000000111111000000000000000000000000000",
        "000000000111111010000000000000000000000000",
        "000000000111111100010110000000000010000000",       --If
        "000000000111111110011000000000000000000000",       --Exit

        "000000001000000000000000000000000000000000",
        "000000001000000010000000000000000000000000",
        "000000001000000100000000000000000000000000",
        "000000001000000110000000000000000000000000",
        "000000001000001000000000000000000000000000",
        "000000001000001010000000000000000000000000",
        "000000001000001100000000000000000000000000",
        "000000001000001110000000000000000000000000",

        "000000001000010000000000000000000000000000",
        "000000001000010010000000000000000000000000",
        "000000001000010100000000000000000000000000",
        "000000001000010110000000000000000000000000",
        "000000001000011000000000000000000000000000",
        "000000001000011010000000000000000000000000",
        "000000001000011100000000000000000000000000"
    );

    signal Instruction : std_logic_vector (41 downto 0);

begin

    Instruction <= Control_Memory(to_integer(unsigned(CAR_In(8 downto 0)))) after 2ns;

    FL <= Instruction (0);
    RZ <= Instruction (1);
    RN <= Instruction (2);
    RC <= Instruction (3);
    RV <= Instruction (4);
    MW <= Instruction (5);
    MM <= Instruction (6);
    RW <= Instruction (7);
    MD <= Instruction (8);
    FS <= Instruction (13 downto 9);
    MB <= Instruction (14);
    TB <= Instruction (15);
    TA <= Instruction (16);
    TD <= Instruction (17);
    PL <= Instruction (18);
    PI <= Instruction (19);
    IL <= Instruction (20);
    MC <= Instruction (21);
    MS <= Instruction (24 downto 22);
    NA <= Instruction (41 downto 25);

end Behavioral;